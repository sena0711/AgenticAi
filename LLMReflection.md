# 🪞 LLM Reflection 정리

## 개요

**LLM Reflection**은 언어 모델이 자신의 응답을 스스로 검토하고, 오류를 식별하여 수정하는 **자기 성찰(Self-reflection)** 능력을 의미합니다.  
이 개념은 LLM의 reasoning 능력과 신뢰도를 향상시키기 위해 도입되었습니다.

---

## 1. 왜 필요한가?

LLM은 다음과 같은 문제를 자주 발생시킵니다:

- 잘못된 계산 또는 논리적 실수
- 그럴듯하지만 틀린 답변 생성
- 이유 없는 단정적인 답

**Reflection**을 통해 LLM은 다음을 수행할 수 있습니다:

✅ 논리적 오류 탐지  
✅ 자체 피드백 제공  
✅ 더 정확한 재응답 생성

---

## 2. Reflection 기본 흐름

```
[사용자 입력]
     ↓
[초기 응답 생성]
     ↓
[Reflection Prompt 요청]
     ↓
[오류 검토 및 수정]
     ↓
[최종 응답 출력]
```

---

## 3. 예제

### Q:
> 어떤 수에 3을 더하면 10이 됩니다. 그 수는 무엇인가요?

### LLM 초기 응답:
> 답은 8입니다.

### Reflection Prompt:
```
이전 답변을 검토하고, 잘못된 점이 있으면 이유를 설명한 후 수정된 정답을 제시해줘.
```

### Reflection 응답:
> 이전 답변은 잘못되었습니다. 10 - 3 = 7이므로, 정답은 7입니다.

---

## 4. 주요 전략

| 전략 | 설명 |
|------|------|
| **Prompt Reflection** | "스스로 답을 검토해줘" 식의 프롬프트 |
| **Multi-step Reflection** | 여러 번 검토하면서 점진적으로 수정 |
| **Self-Critique** | "내가 어떤 실수를 했을까?" 자문 |
| **Peer Review Agent** | 다른 LLM 또는 동일 모델로 교차 평가 |
| **Reflexion Framework** | 실수 → 피드백 → 수정 → 반복하는 강화 루프 |

---

## 5. 구현 예시 (Prompt)

```
너는 스스로 논리 오류를 검토하고 수정할 수 있는 AI야.

문제:
Q: 철수는 사과를 3개 가지고 있고, 민수는 철수보다 2개 더 가지고 있어. 민수는 몇 개 가지고 있을까?

응답:
A: 민수는 6개 가지고 있습니다.

이 응답이 맞는지 검토하고, 잘못되었다면 이유와 함께 정답을 수정해줘.
```

---

## 6. Reflection 적용 분야

- 수학/논리 문제 풀이
- 복잡한 의사결정 추론
- Agent 시스템의 자가 개선 루프
- Code generation & 디버깅

---

## 7. 관련 논문 및 시스템

| 이름 | 설명 |
|------|------|
| **Reflexion (2023)** | 자가 피드백 기반 강화 학습 구조 |
| **Chain-of-Thought + Reflection** | 추론 후 검토 구조로 정확도 상승 |
| **AutoGPT, BabyAGI** | LLM Agent의 자기평가 루프에 활용됨 |

---

## 8. 요약

**LLM Reflection = 자기 점검 + 피드백 + 수정 루프**

- 신뢰도 있는 Reasoning LLM을 만들기 위한 핵심 기술
- 간단한 프롬프트 설계로도 쉽게 적용 가능
- Agent 시스템에 통합하면 **지속적인 자기 개선** 가능

